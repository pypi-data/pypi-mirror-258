Metadata-Version: 2.1
Name: minisound
Version: 0.0.1
Summary: ðŸ”Š Play music and sounds in your Python scripts
Author: Derek Moody
License: LGPL-3.0
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE

# ðŸ”Š Play sounds in Python scripts
`minisound` provides a simple cross-platform API to play sounds in Python scripts.

# Why `minisound`?
[`boombox`](https://pypi.org/project/boombox/) is great and 90% of the way there, however it is limited to only playing WAV files on Windows. [`minisound`](https://pypi.org/project/minisound/) will play other formats than WAV on Windows, but it requires GStreamer and `PyGObject` bindings on Linux, while `boombox` has several playback backends for Linux other than, and including, GStreamer.

Neither `boombox` or `playsound` provide `asyncio` and `async/await` compatible APIs, but `minisound` does.

If you're targeting multiple desktop platforms and don't want to get mired down in the details of when and where to use `playsound` or `boombox`, or if your project uses `async/await`, you can just reach for `minisound` and call it a day.

# Installation
```bash
$ python3 -m pip install minisound
```

# Usage
This library uses [`pathlib.Path`](https://docs.python.org/3/library/pathlib.html#pathlib.Path) objects when pointing to filenames and paths.

## Synchronous API
### Play a file
```python
from minisound import play_file, DEFAULT_SONG


play_file(DEFAULT_SONG)  # blocks by default

# play without blocking
play_file(DEFAULT_SONG, block=False) 
```

### Play while work completes
```python
from time import sleep
from minisound import play_while_running, DEFAULT_SONG


WAIT: int = 60


with play_while_running(DEFAULT_SONG):
  sleep(WAIT)
```

### Play a file after work completes
```python
from time import sleep
from minisound import play_after, DEFAULT_SOUND


with play_after(DEFAULT_SOUND):  # blocks by default
  sleep(WAIT)

# play without blocking
with play_after(DEFAULT_SOUND, block=False):
  sleep(WAIT)
```

### Ring the [terminal bell](https://en.wikipedia.org/wiki/Bell_character)
```python
from minisound import bell, bell_after


# play bell
bell()

# ensure the bell is played even if an exception is thrown
with bell_after():
  raise Exception("Bye")
```

## Asynchronous API
To run the following examples with top-level `await` expressions, [launch an asynchronous Python REPL](https://www.integralist.co.uk/posts/python-asyncio/#running-async-code-in-the-repl) using `python3 -m asyncio` or an [IPython shell](https://ipython.org/).

### Play a file
```python
from minisound import play_file_async, DEFAULT_SONG


await play_file_async(DEFAULT_SONG)  # blocks by default

# play without blocking
await play_file_async(DEFAULT_SONG, block=False) 
```

### Play while work completes
```python
from asyncio import sleep
from minisound import play_while_running_async, DEFAULT_SONG


async with play_while_running_async(DEFAULT_SONG):
  await sleep(WAIT)
```

### Play a file after work completes
```python
from asyncio import sleep
from minisound import play_after_async, DEFAULT_SOUND


async with play_after_async(DEFAULT_SOUND):  # blocks by default
  await sleep(WAIT)

# play without blocking
async with play_after_async(DEFAULT_SOUND, block=False):
  await sleep(WAIT)
```


# Copyright
See `CREDIT.md`.

# License
See `LICENSE`.
