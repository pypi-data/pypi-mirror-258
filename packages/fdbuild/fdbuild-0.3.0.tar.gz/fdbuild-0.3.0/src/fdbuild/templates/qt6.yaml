# SPDX-FileCopyrightText: 2023 Roman Gilg <subdiff@gmail.com>
#
# SPDX-License-Identifier: MIT

#
# Qt6 open source build
#
---
template: default-cmake

projects:
  - at-spi2-core:
      source:
        origin: https://gitlab.gnome.org/GNOME/at-spi2-core.git
        branch: main
      configure:
        plugin: meson
      build:
        plugin: ninja
  - qt:
      source:
        origin: https://code.qt.io/qt/qt5.git
        branch: dev
        hooks:
          post: pwd && cd source &&
            perl init-repository -f
            --module-subset=default,-qtwebengine,-qtgrpc,-qtquickeffectmaker,-qt3d &&
            cd ..
      configure:
        hooks:
          pre: pwd && cd source &&
            ./configure -prefix /usr/local -- -DQT_BUILD_TESTS=OFF -B ../build &&
            cd ..
