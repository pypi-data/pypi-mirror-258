{"version":3,"file":"elFinderSupportBrowserFS.js","mappings":"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","sources":["webpack://elFinder/./src/index.js"],"sourcesContent":["/**\n * elFinder transport to support old protocol.\n *\n * @example\n * $('selector').elfinder({\n *   .... \n *   transport : new elFinderSupportBrowserFs()\n * })\n *\n * @author Wei Ouyang\n **/\n\nfunction guidGenerator() {\n    var S4 = function() {\n       return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\n    };\n    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nlet baseURL = location.pathname;\nif(baseURL.endsWith('.html')){\n\tconst tmp = baseURL.split('/')\n\tbaseURL = tmp.slice(0, tmp.length-1).join('/') + '/'\n}\n\nfunction timeout(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nwindow.initializeServiceWorker = async function(){\n\tif ('serviceWorker' in navigator) {\n\t\tconst controller = navigator.serviceWorker.controller;\n\t\t// Register the worker and show the list of quotations.\n\t\tif (!controller || !controller.scriptURL.endsWith('/service-worker.js') ) {\n\t\t\tnavigator.serviceWorker.oncontrollerchange = function() {\n\t\t\t\tthis.controller.onstatechange = function() {\n\t\t\t\t\tif (this.state === 'activated') {\n\t\t\t\t\t\tconsole.log('Service worker successfully activated.')\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tconst registration = await navigator.serviceWorker.register('/service-worker.js')\n\t\t\tconsole.log('Service worker successfully registered, scope is:', registration.scope);\n\t\t\t// Wait for the service worker to become active\n\t\t\tawait navigator.serviceWorker.ready;\n\t\t\t// Reload the page to allow the service worker to intercept requests\n\t\t\tif (!navigator.serviceWorker.controller) {\n\t\t\t  // Service worker has just been installed, reload the page\n\t\t\t  window.location.reload();\n\t\t\t  throw new Error('Reload the page to allow the service worker to intercept requests.')\n\t\t\t}\n\t\t\tlet ready = false;\n\t\t\twhile (!ready){\n\t\t\t\tconst response = await fetch('/fs/connector')\n\t\t\t\tif(response.status === 200){\n\t\t\t\t\tready = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tawait timeout(500);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tconsole.log('Service worker was activated.')\n\t\t}\n\t} else {\n\t\tconsole.log('Service workers are not supported.');\n\t}\n}\n\nfunction decodeQuery(param){\n\tparam = new URLSearchParams(param)\n\tconst opts = {}\n\tfor(let p of Array.from(param.entries())){\n\t\tif(opts[p[0]]){\n\t\t\tif(!Array.isArray(opts[p[0]]))\n\t\t\t\topts[p[0]] = [opts[p[0]], p[1]]\n\t\t\telse{\n\t\t\t\topts[p[0]].push(p[1])\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(p[0].endsWith('[]'))\n\t\t\t\topts[p[0]] = [p[1]]\n\t\t\telse\n\t\t\t\topts[p[0]] = p[1]\n\t\t}\n\t}\n\treturn opts\n}\n\nwindow.setupImJoyApp = function(){\n\t// const mainContainer = document.createElement('div');\n\t// document.getElementById('window-manager').appendChild(mainContainer)\n\t// we need a hack here for some umd modules in the imjoy loader to load\n\tconst _define = window.define;\n\twindow.define = undefined\n\tloadImJoyBasicApp({\n\t\tversion: '0.13.70',\n\t\tprocess_url_query: true,\n\t\tshow_window_title: false,\n\t\tshow_progress_bar: true,\n\t\tshow_empty_window: true,\n\t\t// window_manager_container: 'window-manager',\n\t\tmenu_style: { position: \"absolute\", right: 0, top: \"2px\" },\n\t\twindow_style: {width: '100%', height: '100%'},\n\t\t// main_container: mainContainer,\n\t\timjoy_api: { } // override some imjoy API functions here\n\t}).then(async app => {\n\t\t// Users can load plugins which setup default file loader services:\n\t\t// For example here is an example for loading Kaibu: \n\t\t// const api = app.api\n\t\t// await api.loadPlugin(\"https://gist.githubusercontent.com/oeway/7f4b5f63182055604da172082a394d64/raw/ImageViewerServices.imjoy.html\")\n\t\twindow.imjoy = app.imjoy;\n\t}).finally(()=>{\n\t\t// restore define\n\t\twindow.define = _define;\n\t})\n}\n\n\nconst CONNECTOR_URL = '/fs/connector';\n\nwindow.elFinderSupportBrowserFs = function(upload) {\n\t\"use strict\";\n\tthis.parseFiles = function(fm, target, files){\n\t\tconst dfrd = $.Deferred();\n\t\tfiles.done(function(result) { // result: [files, paths, renames, hashes, mkdirs]\n\t\t\tconst cnt = result[0].length;\n\t\t\tlet multiMax=-1;\n\t\t\tif (cnt) {\n\t\t\t\tif (result[4] && result[4].length) {\n\t\t\t\t\t// ensure directories\n\t\t\t\t\tfm.request({\n\t\t\t\t\t\tdata   : {cmd : 'mkdir', target : target, dirs : result[4]},\n\t\t\t\t\t\tnotify : {type : 'mkdir', cnt : result[4].length},\n\t\t\t\t\t\tpreventFail: true\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\terror = error || ['errUnknown'];\n\t\t\t\t\t\tif (error[0] === 'errCmdParams') {\n\t\t\t\t\t\t\tmultiMax = 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmultiMax = 0;\n\t\t\t\t\t\t\tdfrd.reject(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tvar rm = false;\n\t\t\t\t\t\tif (!data.hashes) {\n\t\t\t\t\t\t\tdata.hashes = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult[1] = $.map(result[1], function(p, i) {\n\t\t\t\t\t\t\tresult[0][i]._relativePath = p.replace(/^\\//, '');\n\t\t\t\t\t\t\tp = p.replace(/\\/[^\\/]*$/, '');\n\t\t\t\t\t\t\tif (p === '') {\n\t\t\t\t\t\t\t\treturn target;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (data.hashes[p]) {\n\t\t\t\t\t\t\t\t\treturn data.hashes[p];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trm = true;\n\t\t\t\t\t\t\t\t\tresult[0][i]._remove = true;\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (rm) {\n\t\t\t\t\t\t\tresult[0] = $.grep(result[0], function(file) { return file._remove? false : true; });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.always(function(data) {\n\t\t\t\t\t\tdfrd.resolve(result);\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tresult[1] = $.map(result[1], function() { return target; });\n\t\t\t\t}\n\n\t\t\t\tdfrd.resolve(result);\n\t\t\t} else {\n\t\t\t\tdfrd.reject(['errUploadNoFiles']);\n\t\t\t}\n\t\t}).fail(function(){\n\t\t\tdfrd.reject();\n\t\t});\n\t\treturn dfrd;\n\t}\n\tthis.upload = function(data){\n\t\tconst self = this.fm;\n\t\tconst dfrd = $.Deferred();\n\n\t\t\n\t\tconst target = data.target || self.cwd().hash;\n\t\tconst files       = data.input ? data.input.files : self.uploads.checkFile(data, self, target)\n\t\tdata.progress = (progress)=>{\n\t\t\tself.notify({type : 'upload', cnt : 0, progress, size : 0});\n\t\t}\n\t\tfunction saveFiles(opts){\n\t\t\telfinder_api.upload(opts).then((data)=>{\n\t\t\t\tself.uploads.xhrUploading = false;\n\t\t\t\tif (data) {\n\t\t\t\t\tself.currentReqCmd = 'upload';\n\t\t\t\t\tdata.warning && console.warn(data.warning);\n\t\t\t\t\tself.updateCache(data);\n\t\t\t\t\tdata.removed && data.removed.length && self.remove(data);\n\t\t\t\t\tdata.added   && data.added.length   && self.add(data);\n\t\t\t\t\tdata.changed && data.changed.length && self.change(data);\n\t\t\t\t\tself.trigger('upload', data, false);\n\t\t\t\t\tself.trigger('uploaddone');\n\t\t\t\t\tif (data.toasts && Array.isArray(data.toasts)) {\n\t\t\t\t\t\t$.each(data.toasts, function() {\n\t\t\t\t\t\t\tthis.msg && self.toast(this);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tdata.sync && self.sync();\n\t\t\t\t\tif (data.debug) {\n\t\t\t\t\t\tself.responseDebug(data);\n\t\t\t\t\t\tfm.debug('backend-debug', data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdfrd.resolve(data);\n\t\t\t}).catch((error)=>{\n\t\t\t\tconsole.error(error)\n\t\t\t\tdfrd.reject(error);\n\t\t\t})\n\t\t}\n\n\t\tif(files.done){\n\t\t\tthis.parseFiles(self, target, files).done((result)=>{\n\t\t\t\tsaveFiles({files: result[0], targets: result[1], renames: result[2], hashes: result[3]})\n\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tsaveFiles({targets: files.map(()=>target), files: files})\n\t\t}\n\t\treturn dfrd\n\t};\n\t\n\tthis.init = function(fm) {\n\t\tthis.fm = fm;\n\t\tthis.fm.options.url = `${baseURL}${CONNECTOR_URL}`;\n\t};\n\n\t\n\tthis.send = function(opts) {\n\t\tconst dfrd = $.Deferred();\n\t\tdfrd.abort = function() {};\n\t\t\n\t\tconst query = decodeQuery(opts.url.split('?')[1])\n\t\tif(query) Object.assign(opts.data, query)\n\t\tconst xhr = $.ajax(opts)\n\t\t.fail(function(error) {\n\t\t\tdfrd.reject(error);\n\t\t})\n\t\t.done(function(raw) {\n\t\t\tdfrd.resolve(raw);\n\t\t});\n\t\tdfrd.abort = function() {\n\t\t\tif (xhr && xhr.state() == 'pending') {\n\t\t\t\txhr.quiet = true;\n\t\t\t\txhr.abort();\n\t\t\t}\n\t\t};\n\n\t\treturn dfrd;\n\t};\n};\n"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","baseURL","location","pathname","endsWith","tmp","split","join","timeout","ms","setTimeout","window","initializeServiceWorker","_callee","controller","registration","ready","_context","navigator","serviceWorker","scriptURL","oncontrollerchange","this","onstatechange","state","console","log","register","scope","reload","fetch","status","setupImJoyApp","_define","loadImJoyBasicApp","version","process_url_query","show_window_title","show_progress_bar","show_empty_window","menu_style","position","right","top","window_style","width","height","imjoy_api","_ref2","_callee2","app","_context2","imjoy","_x","elFinderSupportBrowserFs","upload","parseFiles","fm","target","files","dfrd","$","Deferred","result","request","data","cmd","dirs","notify","cnt","preventFail","fail","rm","hashes","map","_relativePath","replace","_remove","grep","file","always","cwd","hash","input","uploads","checkFile","saveFiles","opts","elfinder_api","xhrUploading","currentReqCmd","warning","warn","updateCache","removed","remove","added","add","changed","change","trigger","toasts","Array","isArray","each","msg","toast","sync","debug","responseDebug","progress","size","targets","renames","init","options","url","concat","send","abort","query","param","URLSearchParams","_i","_Array$from","from","entries","decodeQuery","assign","xhr","ajax","raw","quiet"],"sourceRoot":""}