export const id=27656;export const ids=[27656];export const modules={82796:(e,t,i)=>{i.d(t,{Y:()=>c});var a,n,o,r,s,l=i(93408);const d=null!==(a=null===(n=(o=Intl).DateTimeFormat)||void 0===n||null===(r=(s=n.call(o)).resolvedOptions)||void 0===r?void 0:r.call(s).timeZone)&&void 0!==a?a:"UTC",c=(e,t)=>e===l.KU.local&&"UTC"!==d?d:t},72308:(e,t,i)=>{i.d(t,{c:()=>n});const a=e=>e<10?`0${e}`:e;function n(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return t>0?`${t}:${a(i)}:${a(n)}`:i>0?`${i}:${a(n)}`:n>0?""+n:null}},65380:(e,t,i)=>{i.d(t,{U:()=>s,q:()=>o});var a=i(80576),n=i(38076);const o={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],valve:["closed","closing","open","opening"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},r={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contibuting_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage","volume_flow_rate"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},s=(e,t=void 0)=>{const i=(0,a.S)(e),s=[];switch(!t&&i in o?s.push(...o[i]):t&&i in r&&t in r[i]&&s.push(...r[i][t]),i){case"climate":t?"fan_mode"===t?s.push(...e.attributes.fan_modes):"preset_mode"===t?s.push(...e.attributes.preset_modes):"swing_mode"===t&&s.push(...e.attributes.swing_modes):s.push(...e.attributes.hvac_modes);break;case"device_tracker":case"person":t||s.push("home","not_home");break;case"event":"event_type"===t&&s.push(...e.attributes.event_types);break;case"fan":"preset_mode"===t&&s.push(...e.attributes.preset_modes);break;case"humidifier":"mode"===t&&s.push(...e.attributes.available_modes);break;case"input_select":case"select":t||s.push(...e.attributes.options);break;case"light":"effect"===t&&e.attributes.effect_list?s.push(...e.attributes.effect_list):"color_mode"===t&&e.attributes.supported_color_modes&&s.push(...e.attributes.supported_color_modes);break;case"media_player":"sound_mode"===t?s.push(...e.attributes.sound_mode_list):"source"===t&&s.push(...e.attributes.source_list);break;case"remote":"current_activity"===t&&s.push(...e.attributes.activity_list);break;case"sensor":t||"enum"!==e.attributes.device_class||s.push(...e.attributes.options);break;case"vacuum":"fan_speed"===t&&s.push(...e.attributes.fan_speed_list);break;case"water_heater":t&&"operation_mode"!==t||s.push(...e.attributes.operation_list)}return t||s.push(...n.iW),[...new Set(s)]}},14288:(e,t,i)=>{i.d(t,{o:()=>a});const a=(e,t,i=!0,a=!0)=>{let n,o=0;const r=(...r)=>{const s=()=>{o=!1===i?0:Date.now(),n=void 0,e(...r)},l=Date.now();o||!1!==i||(o=l);const d=t-(l-o);d<=0||d>t?(n&&(clearTimeout(n),n=void 0),o=l,e(...r)):n||!1===a||(n=window.setTimeout(s,d))};return r.cancel=()=>{clearTimeout(n),n=void 0,o=0},r}},57564:(e,t,i)=>{var a=i(5576),n=i(37668),o=i(54915),r=i(84244),s=i(55736),l=i(52672),d=i(29744),c=i(72308),h=i(80576),u=i(56552),m=i(65380),p=i(6600),v=i(38076),g=i(10912);i(81164),i(34048);const f=["alarm_control_panel","device_tracker","person"];(0,a.c)([(0,s.Kx)("ha-state-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"name",value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"image",value:void 0},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"showName",value:()=>!1},{kind:"field",decorators:[(0,s.K2)()],key:"_timerTimeRemaining",value:void 0},{kind:"field",key:"_connected",value:void 0},{kind:"field",key:"_updateRemaining",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.c)((0,o.c)(i.prototype),"connectedCallback",this).call(this),this._connected=!0,this.startInterval(this.state)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.c)((0,o.c)(i.prototype),"disconnectedCallback",this).call(this),this._connected=!1,this.clearInterval()}},{kind:"method",key:"render",value:function(){var e,t;const i=this.state;if(!i)return r.kP` <ha-label-badge class="warning" label="${this.hass.localize("state_badge.default.error")}" description="${this.hass.localize("state_badge.default.entity_not_found")}"> <ha-svg-icon .path="${"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"}"></ha-svg-icon> </ha-label-badge> `;const a=(0,h.S)(i),n=null===(e=this.hass)||void 0===e?void 0:e.entities[i.entity_id],o=this.icon||this._computeShowIcon(a,i,n),s=this.icon?"":this.image?this.image:i.attributes.entity_picture_local||i.attributes.entity_picture,d=s||o?void 0:this._computeValue(a,i,n);return r.kP` <ha-label-badge class="${(0,l.m)({[a]:!0,"has-unit_of_measurement":"unit_of_measurement"in i.attributes})}" .image="${s}" .label="${this._computeLabel(a,i,this._timerTimeRemaining)}" .description="${this.showName?null!==(t=this.name)&&void 0!==t?t:(0,u.W)(i):void 0}"> ${!s&&o?r.kP`<ha-state-icon .icon="${this.icon}" .stateObj="${i}" .hass="${this.hass}"></ha-state-icon>`:""} ${!d||s||o?"":r.kP`<span class="${d&&d.length>4?"big":""}">${d}</span>`} </ha-label-badge> `}},{kind:"method",key:"updated",value:function(e){(0,n.c)((0,o.c)(i.prototype),"updated",this).call(this,e),this._connected&&e.has("state")&&this.startInterval(this.state)}},{kind:"method",key:"_computeValue",value:function(e,t,i){switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":return null;case"sensor":if("moon"===(null==i?void 0:i.platform))return null;default:return t.state===v.Eq||t.state===v.YV?"â€”":(0,p.ru)(t)?(0,p.iy)(t.state,this.hass.locale,(0,p.BN)(t,i)):this.hass.formatEntityState(t)}}},{kind:"method",key:"_computeShowIcon",value:function(e,t,i){if(t.state===v.YV)return!1;switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":return!0;case"sensor":return"moon"===(null==i?void 0:i.platform);default:return!1}}},{kind:"method",key:"_computeLabel",value:function(e,t,i=0){if((0,v.Rp)(t.state))return this.hass.localize(`state_badge.default.${t.state}`);const a=(n=e,o=t.state,(0,d.g)(f)(n)&&(0,d.g)(m.q[n])(o)?`${n}.${o}`:null);var n,o;return a?this.hass.localize(`state_badge.${a}`):"person"===e||"device_tracker"===e?t.state:"timer"===e?(0,c.c)(i):t.attributes.unit_of_measurement||null}},{kind:"method",key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=void 0)}))},{kind:"method",key:"startInterval",value:function(e){this.clearInterval(),e&&"timer"===(0,h.S)(e)&&(this.calculateTimerRemaining(e),"active"===e.state&&(this._updateRemaining=window.setInterval((()=>this.calculateTimerRemaining(this.state)),1e3)))}},{kind:"method",key:"calculateTimerRemaining",value:function(e){this._timerTimeRemaining=(0,g.OQ)(e)}},{kind:"get",static:!0,key:"styles",value:function(){return r.gV`:host{cursor:pointer}.big{font-size:70%}ha-label-badge{--ha-label-badge-color:var(--label-badge-red)}ha-label-badge.has-unit_of_measurement{--ha-label-badge-label-text-transform:none}ha-label-badge.binary_sensor{--ha-label-badge-color:var(--label-badge-blue)}.red{--ha-label-badge-color:var(--label-badge-red)}.blue{--ha-label-badge-color:var(--label-badge-blue)}.green{--ha-label-badge-color:var(--label-badge-green)}.yellow{--ha-label-badge-color:var(--label-badge-yellow)}.grey{--ha-label-badge-color:var(--label-badge-grey)}.warning{--ha-label-badge-color:var(--label-badge-yellow)}`}}]}}),r.oH)},50744:(e,t,i)=>{var a=i(5576),n=i(37668),o=i(54915),r=(i(92116),i(84244)),s=i(55736),l=i(63168),d=i(11448);(0,a.c)([(0,s.Kx)("ha-button-menu")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:d._C,value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,s.qq)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,s.qq)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,s.qq)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean,attribute:"no-anchor"})],key:"noAnchor",value:()=>!1},{kind:"field",decorators:[(0,s.kt)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return r.kP` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.c)((0,o.c)(i.prototype),"firstUpdated",this).call(this,e),"rtl"===l.O.document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return r.gV`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),r.oH)},29068:(e,t,i)=>{i.r(t),i.d(t,{HaIconButton:()=>s});var a=i(5576),n=(i(36144),i(84244)),o=i(55736),r=i(39744);i(7860);let s=(0,a.c)([(0,o.Kx)("ha-icon-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.qq)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.qq)({type:String})],key:"path",value:void 0},{kind:"field",decorators:[(0,o.qq)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,o.qq)({type:String,attribute:"aria-haspopup"})],key:"ariaHasPopup",value:void 0},{kind:"field",decorators:[(0,o.qq)({type:Boolean})],key:"hideTitle",value:()=>!1},{kind:"field",decorators:[(0,o.kt)("mwc-icon-button",!0)],key:"_button",value:void 0},{kind:"method",key:"focus",value:function(){var e;null===(e=this._button)||void 0===e||e.focus()}},{kind:"field",static:!0,key:"shadowRootOptions",value:()=>({mode:"open",delegatesFocus:!0})},{kind:"method",key:"render",value:function(){return n.kP` <mwc-icon-button aria-label="${(0,r.u)(this.label)}" title="${(0,r.u)(this.hideTitle?void 0:this.label)}" aria-haspopup="${(0,r.u)(this.ariaHasPopup)}" .disabled="${this.disabled}"> ${this.path?n.kP`<ha-svg-icon .path="${this.path}"></ha-svg-icon>`:n.kP`<slot></slot>`} </mwc-icon-button> `}},{kind:"get",static:!0,key:"styles",value:function(){return n.gV`:host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}`}}]}}),n.oH)},81164:(e,t,i)=>{var a=i(5576),n=i(37668),o=i(54915),r=i(84244),s=i(55736),l=i(52672);(0,a.c)([(0,s.Kx)("ha-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.qq)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"description",value:void 0},{kind:"field",decorators:[(0,s.qq)()],key:"image",value:void 0},{kind:"method",key:"render",value:function(){return r.kP` <div class="badge-container"> <div class="label-badge" id="badge"> <div class="value"> <slot></slot> </div> ${this.label?r.kP` <div class="${(0,l.m)({label:!0,big:this.label.length>5})}"> <span>${this.label}</span> </div> `:""} </div> ${this.description?r.kP`<div class="title">${this.description}</div>`:""} </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[r.gV`.badge-container{display:inline-block;text-align:center;vertical-align:top;padding:var(--ha-label-badge-padding,0 0 0 0)}.label-badge{position:relative;display:block;margin:0 auto;width:var(--ha-label-badge-size,2.5em);text-align:center;height:var(--ha-label-badge-size,2.5em);line-height:var(--ha-label-badge-size, 2.5em);font-size:var(--ha-label-badge-font-size, 1.5em);border-radius:var(--ha-label-badge-border-radius,50%);border:.1em solid var(--ha-label-badge-color,var(--primary-color));color:var(--label-badge-text-color,#4c4c4c);white-space:nowrap;background-color:var(--label-badge-background-color,#fff);background-size:cover;transition:border .3s ease-in-out}.label-badge .label.big span{font-size:90%;padding:10% 12% 7% 12%}.label-badge .value{font-size:90%;overflow:hidden;text-overflow:ellipsis}.label-badge .label{position:absolute;bottom:-1em;left:-.2em;right:-.2em;line-height:1em;font-size:.5em}.label-badge .label span{box-sizing:border-box;max-width:100%;display:inline-block;background-color:var(--ha-label-badge-color,var(--primary-color));color:var(--ha-label-badge-label-color,#fff);border-radius:1em;padding:9% 16% 8% 16%;font-weight:500;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;transition:background-color .3s ease-in-out;text-transform:var(--ha-label-badge-label-text-transform,uppercase)}.badge-container .title{margin-top:1em;font-size:var(--ha-label-badge-title-font-size, .9em);width:var(--ha-label-badge-title-width,5em);font-weight:var(--ha-label-badge-title-font-weight,400);overflow:hidden;text-overflow:ellipsis;line-height:normal}`]}},{kind:"method",key:"updated",value:function(e){(0,n.c)((0,o.c)(i.prototype),"updated",this).call(this,e),e.has("image")&&(this.shadowRoot.getElementById("badge").style.backgroundImage=this.image?`url(${this.image})`:"")}}]}}),r.oH)},66220:(e,t,i)=>{var a=i(5576),n=i(37668),o=i(54915),r=i(84244),s=i(55736),l=i(90360),d=i(58056);i(29068);(0,a.c)([(0,s.Kx)("ha-menu-button")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"hassio",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.K2)()],key:"_hasNotifications",value:()=>!1},{kind:"field",decorators:[(0,s.K2)()],key:"_show",value:()=>!1},{kind:"field",key:"_alwaysVisible",value:()=>!1},{kind:"field",key:"_attachNotifOnConnect",value:()=>!1},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.c)((0,o.c)(i.prototype),"connectedCallback",this).call(this),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.c)((0,o.c)(i.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{kind:"method",key:"render",value:function(){if(!this._show)return r.qs;const e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return r.kP` <ha-icon-button .label="${this.hass.localize("ui.sidebar.sidebar_toggle")}" .path="${"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}" @click="${this._toggleMenu}"></ha-icon-button> ${e?r.kP`<div class="dot"></div>`:""} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.c)((0,o.c)(i.prototype),"firstUpdated",this).call(this,e),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{kind:"method",key:"willUpdate",value:function(e){if((0,n.c)((0,o.c)(i.prototype),"willUpdate",this).call(this,e),!e.has("narrow")&&!e.has("hass"))return;const t=e.has("hass")?e.get("hass"):this.hass,a=(e.has("narrow")?e.get("narrow"):this.narrow)||"always_hidden"===(null==t?void 0:t.dockedSidebar),r=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&a===r||(this._show=r||this._alwaysVisible,r?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}},{kind:"method",key:"_subscribeNotifications",value:function(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,d.E)(this.hass.connection,(e=>{this._hasNotifications=e.length>0}))}},{kind:"method",key:"_toggleMenu",value:function(){(0,l.O)(this,"hass-toggle-menu")}},{kind:"get",static:!0,key:"styles",value:function(){return r.gV`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;border-radius:50%;border:2px solid var(--app-header-background-color)}`}}]}}),r.oH)},7860:(e,t,i)=>{i.r(t),i.d(t,{HaSvgIcon:()=>r});var a=i(5576),n=i(84244),o=i(55736);let r=(0,a.c)([(0,o.Kx)("ha-svg-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.qq)()],key:"path",value:void 0},{kind:"field",decorators:[(0,o.qq)()],key:"secondaryPath",value:void 0},{kind:"field",decorators:[(0,o.qq)()],key:"viewBox",value:void 0},{kind:"method",key:"render",value:function(){return n.WW` <svg viewBox="${this.viewBox||"0 0 24 24"}" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> ${this.path?n.WW`<path class="primary-path" d="${this.path}"></path>`:n.qs} ${this.secondaryPath?n.WW`<path class="secondary-path" d="${this.secondaryPath}"></path>`:n.qs} </g> </svg>`}},{kind:"get",static:!0,key:"styles",value:function(){return n.gV`:host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:var(--icon-primary-color,currentcolor);width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}path.primary-path{opacity:var(--icon-primary-opactity, 1)}path.secondary-path{fill:var(--icon-secondary-color,currentcolor);opacity:var(--icon-secondary-opactity, .5)}`}}]}}),n.oH)},34081:(e,t,i)=>{i.d(t,{Ej:()=>r,Q7:()=>l,Qx:()=>s,UZ:()=>n,WN:()=>o,_o:()=>a});const a=e=>e.map((e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username"};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code"};default:return e}})),n=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),o=async(e,t,i,a)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:i,password:a}),r=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i}),s=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i}),l=(e,t,i)=>e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:i})},16524:(e,t,i)=>{function a(e){return"strategy"in e}i.d(t,{MX:()=>n,So:()=>o,gt:()=>a,s7:()=>r});const n=(e,t,i)=>e.sendMessagePromise({type:"lovelace/config",url_path:t,force:i}),o=(e,t,i)=>e.callWS({type:"lovelace/config/save",url_path:t,config:i}),r=(e,t)=>e.callWS({type:"lovelace/config/delete",url_path:t})},60896:(e,t,i)=>{function a(e){return"strategy"in e}i.d(t,{k:()=>a})},33492:(e,t,i)=>{i.d(t,{CY:()=>s,Iv:()=>d,eS:()=>o,gP:()=>l,uC:()=>r,uy:()=>a});const a="custom:",n=window;"customCards"in n||(n.customCards=[]),"customCardFeatures"in n||(n.customCardFeatures=[]),"customTileFeatures"in n||(n.customTileFeatures=[]);const o=n.customCards,r=()=>[...n.customCardFeatures,...n.customTileFeatures],s=e=>o.find((t=>t.type===e)),l=e=>e.startsWith(a),d=e=>e.slice(a.length)},58056:(e,t,i)=>{i.d(t,{E:()=>a});const a=(e,t)=>{const i=new n,a=e.subscribeMessage((e=>t(i.processMessage(e))),{type:"persistent_notification/subscribe"});return()=>{a.then((e=>null==e?void 0:e()))}};class n{constructor(){this.notifications=void 0,this.notifications={}}processMessage(e){if("removed"===e.type)for(const t of Object.keys(e.notifications))delete this.notifications[t];else this.notifications={...this.notifications,...e.notifications};return Object.values(this.notifications)}}},10912:(e,t,i)=>{i.d(t,{qh:()=>d,sT:()=>o,Y5:()=>s,im:()=>n,OQ:()=>l,I0:()=>r});var a=i(72308);const n=e=>e.callWS({type:"timer/list"}),o=(e,t)=>e.callWS({type:"timer/create",...t}),r=(e,t,i)=>e.callWS({type:"timer/update",timer_id:t,...i}),s=(e,t)=>e.callWS({type:"timer/delete",timer_id:t}),l=e=>{if(!e.attributes.remaining)return;let t=function(e){const t=e.split(":").map(Number);return 3600*t[0]+60*t[1]+t[2]}(e.attributes.remaining);if("active"===e.state){const i=(new Date).getTime(),a=new Date(e.last_changed).getTime();t=Math.max(t-(i-a)/1e3,0)}return t},d=(e,t,i)=>{if(!t)return null;if("idle"===t.state||0===i)return e.formatEntityState(t);let n=(0,a.c)(i||0);return"paused"===t.state&&(n=`${n} (${e.formatEntityState(t)})`),n}},68796:(e,t,i)=>{i.d(t,{Wi:()=>s,em:()=>r});var a=i(5576),n=i(84244),o=i(55736);i(81164),i(7860);const r=e=>{const t=document.createElement("hui-error-badge");return t.setConfig(e),t},s=e=>({type:"error",error:e});(0,a.c)([(0,o.Kx)("hui-error-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,o.K2)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){return this._config?n.kP` <ha-label-badge label="Error" description="${this._config.error}"> <ha-svg-icon .path="${"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"}"></ha-svg-icon> </ha-label-badge> `:n.qs}},{kind:"get",static:!0,key:"styles",value:function(){return n.gV`:host{--ha-label-badge-color:var(--label-badge-red, #fce588)}`}}]}}),n.oH)},14056:(e,t,i)=>{i.d(t,{S:()=>m});var a=i(5576),n=i(84244),o=i(55736),r=i(39744),s=(i(57564),i(42912)),l=i(56836),d=i(47692);(0,a.c)([(0,o.Kx)("hui-state-label-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.K2)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){var e;if(!this._config||!this.hass)return n.qs;const t=this.hass.states[this._config.entity];return n.kP` <ha-state-label-badge .hass="${this.hass}" .state="${t}" .name="${this._config.name}" .icon="${this._config.icon}" .image="${this._config.image}" .showName="${null===(e=this._config.show_name)||void 0===e||e}" @action="${this._handleAction}" .actionHandler="${(0,s._)({hasHold:(0,d.e)(this._config.hold_action),hasDoubleClick:(0,d.e)(this._config.double_tap_action)})}" tabindex="${(0,r.u)((0,d.e)(this._config.tap_action)||this._config.entity?"0":void 0)}"></ha-state-label-badge> `}},{kind:"method",key:"_handleAction",value:function(e){(0,l.y)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return n.gV`ha-state-label-badge:focus{outline:0;background:var(--divider-color);border-radius:4px}ha-state-label-badge{display:inline-block;padding:4px 2px 4px 2px;margin:-4px -2px -4px -2px}`}}]}}),n.oH);var c=i(1908);const h=new Set(["error","state-label"]),u={"entity-filter":()=>i.e(76720).then(i.bind(i,76720))},m=e=>(0,c.im)("badge",e,h,u,void 0,"state-label")},61147:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{A1:()=>f,oK:()=>b,qA:()=>y});var n=i(15751),o=i(72828),r=i(15468),s=i(64129),l=(i(85848),i(75488)),d=i(47152),c=(i(1636),i(44992),i(5060)),h=i(67872),u=i(87300),m=i(1908),p=e([n,o,r,s,l,d,c,h,u]);[n,o,r,s,l,d,c,h,u]=p.then?(await p)():p;const v=new Set(["entity","entities","button","entity-button","glance","grid","light","sensor","thermostat","weather-forecast","tile"]),g={"alarm-panel":()=>Promise.all([i.e(94184),i.e(65728)]).then(i.bind(i,65728)),area:()=>Promise.all([i.e(26368),i.e(36444)]).then(i.bind(i,25416)),calendar:()=>Promise.resolve().then(i.bind(i,72828)),conditional:()=>i.e(5552).then(i.bind(i,5552)),"empty-state":()=>i.e(82292).then(i.bind(i,82292)),"energy-compare":()=>Promise.all([i.e(65800),i.e(38132)]).then(i.bind(i,38132)),"energy-carbon-consumed-gauge":()=>Promise.all([i.e(65800),i.e(54652),i.e(96692)]).then(i.bind(i,96692)),"energy-date-selection":()=>Promise.all([i.e(94184),i.e(4688),i.e(65800),i.e(59324),i.e(56852),i.e(33540),i.e(51076)]).then(i.bind(i,76560)),"energy-devices-graph":()=>Promise.all([i.e(65800),i.e(18704),i.e(5888)]).then(i.bind(i,5888)),"energy-distribution":()=>Promise.all([i.e(65800),i.e(39448)]).then(i.bind(i,39448)),"energy-gas-graph":()=>Promise.all([i.e(65800),i.e(43013),i.e(56852),i.e(324)]).then(i.bind(i,324)),"energy-water-graph":()=>Promise.all([i.e(65800),i.e(43013),i.e(56852),i.e(65364)]).then(i.bind(i,65364)),"energy-grid-neutrality-gauge":()=>Promise.all([i.e(65800),i.e(32272),i.e(44108)]).then(i.bind(i,44108)),"energy-solar-consumed-gauge":()=>Promise.all([i.e(65800),i.e(9890),i.e(58676)]).then(i.bind(i,58676)),"energy-self-sufficiency-gauge":()=>Promise.all([i.e(65800),i.e(87508),i.e(26104)]).then(i.bind(i,26104)),"energy-solar-graph":()=>Promise.all([i.e(65800),i.e(43013),i.e(56852),i.e(43004)]).then(i.bind(i,43004)),"energy-sources-table":()=>Promise.all([i.e(65800),i.e(79728),i.e(13056)]).then(i.bind(i,13056)),"energy-usage-graph":()=>Promise.all([i.e(65800),i.e(43013),i.e(56852),i.e(81048)]).then(i.bind(i,81048)),"entity-filter":()=>i.e(60652).then(i.bind(i,60652)),error:()=>Promise.all([i.e(40772),i.e(85236)]).then(i.bind(i,85236)),gauge:()=>i.e(52044).then(i.bind(i,52044)),"history-graph":()=>Promise.all([i.e(18704),i.e(40656),i.e(78080)]).then(i.bind(i,78080)),"horizontal-stack":()=>i.e(28176).then(i.bind(i,28176)),humidifier:()=>i.e(99367).then(i.bind(i,99367)),iframe:()=>i.e(64184).then(i.bind(i,64184)),logbook:()=>Promise.all([i.e(78620),i.e(87928)]).then(i.bind(i,43588)),map:()=>Promise.all([i.e(76492),i.e(62148)]).then(i.bind(i,68535)),markdown:()=>i.e(46824).then(i.bind(i,46824)),"media-control":()=>Promise.all([i.e(75176),i.e(86682)]).then(i.bind(i,86682)),"picture-elements":()=>Promise.all([i.e(26368),i.e(76400),i.e(4960)]).then(i.bind(i,22824)),"picture-entity":()=>Promise.all([i.e(26368),i.e(5268)]).then(i.bind(i,18732)),"picture-glance":()=>Promise.all([i.e(26368),i.e(56952)]).then(i.bind(i,72312)),picture:()=>i.e(75936).then(i.bind(i,75936)),"plant-status":()=>i.e(35887).then(i.bind(i,35887)),"recovery-mode":()=>Promise.all([i.e(67320),i.e(98084),i.e(73508)]).then(i.bind(i,73508)),"todo-list":()=>Promise.all([i.e(94184),i.e(67320),i.e(4688),i.e(59284)]).then(i.bind(i,59284)),"shopping-list":()=>Promise.all([i.e(94184),i.e(67320),i.e(4688),i.e(59284),i.e(84932)]).then(i.bind(i,7312)),starting:()=>i.e(30892).then(i.bind(i,30892)),"statistics-graph":()=>i.e(35680).then(i.bind(i,35680)),statistic:()=>i.e(77592).then(i.bind(i,77592)),"vertical-stack":()=>i.e(74472).then(i.bind(i,74472))},f=e=>(0,m.eF)("card",e,v,g,void 0,void 0),b=e=>(0,m.im)("card",e,v,g,void 0,void 0),y=e=>(0,m.YP)(e,"card",v,g);a()}catch(e){a(e)}}))},1908:(e,t,i)=>{i.d(t,{YP:()=>u,eF:()=>h,im:()=>c,qO:()=>r,qk:()=>o});var a=i(90360),n=i(33492);const o=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([i.e(40772),i.e(85236)]).then(i.bind(i,85236)),customElements.whenDefined("hui-error-card").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t},r=(e,t)=>({type:"error",error:e,origConfig:t}),s=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},l=(e,t)=>o(r(e,t)),d=e=>(0,n.gP)(e)?(0,n.Iv)(e):void 0,c=(e,t,i,a,n,o)=>{try{return h(e,t,i,a,n,o)}catch(i){return console.error(e,t.type,i),l(i.message,t)}},h=(e,t,i,n,o,r)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||r||o&&"entity"in t))throw new Error("No card type configured");const c=t.type?d(t.type):void 0;if(c)return((e,t)=>{if(customElements.get(e))return s(e,t);const i=l(`Custom element doesn't exist: ${e}.`,t);if(!e.includes("-"))return i;i.style.display="None";const n=window.setTimeout((()=>{i.style.display=""}),2e3);return customElements.whenDefined(e).then((()=>{clearTimeout(n),(0,a.O)(i,"ll-rebuild")})),i})(c,t);let h;if(o&&!t.type&&t.entity){h=`${o[t.entity.split(".",1)[0]]||o._domain_not_found}-entity`}else h=t.type||r;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(n&&h in n)return n[h](),((e,t)=>{if(customElements.get(e))return s(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then((()=>{try{customElements.upgrade(i),i.setConfig(t)}catch(e){(0,a.O)(i,"ll-rebuild")}})),i})(u,t);if(i&&i.has(h))return s(u,t);throw new Error(`Unknown type encountered: ${h}`)},u=async(e,t,i,a)=>{const n=d(e);if(n){const e=customElements.get(n);if(e)return e;if(!n.includes("-"))throw new Error(`Custom element not found: ${n}`);return new Promise(((e,t)=>{setTimeout((()=>t(new Error(`Custom element not found: ${n}`))),2e3),customElements.whenDefined(n).then((()=>e(customElements.get(n))))}))}const o=`hui-${e}-${t}`,r=customElements.get(o);if(i&&i.has(e))return r;if(a&&e in a)return r||a[e]().then((()=>customElements.get(o)));throw new Error(`Unknown type: ${e}`)}},95056:(e,t,i)=>{i.d(t,{I:()=>r,k:()=>o});var a=i(1908);const n={picture:()=>i.e(45920).then(i.bind(i,45920)),buttons:()=>Promise.all([i.e(10192),i.e(25840)]).then(i.bind(i,25840)),graph:()=>i.e(74320).then(i.bind(i,74320))},o=e=>(0,a.im)("header-footer",e,void 0,n,void 0,void 0),r=e=>(0,a.YP)(e,"header-footer",void 0,n)},42604:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{K:()=>f,W:()=>b});var n=i(98452),o=i(8656),r=i(56240),s=i(65123),l=i(81288),d=i(4639),c=i(2372),h=i(11432),u=(i(2380),i(89828),i(1908)),m=e([n,o,r,s,l,d,c,h]);[n,o,r,s,l,d,c,h]=m.then?(await m)():m;const p=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),v={"button-entity":()=>i.e(40884).then(i.bind(i,40884)),"climate-entity":()=>i.e(80663).then(i.bind(i,80663)),"cover-entity":()=>i.e(69768).then(i.bind(i,69768)),"date-entity":()=>Promise.all([i.e(94184),i.e(66852)]).then(i.bind(i,66852)),"datetime-entity":()=>Promise.all([i.e(94184),i.e(67320),i.e(58529),i.e(25984),i.e(83760),i.e(4964)]).then(i.bind(i,43172)),"event-entity":()=>Promise.resolve().then(i.bind(i,98452)),"group-entity":()=>i.e(91948).then(i.bind(i,91948)),"input-button-entity":()=>i.e(80784).then(i.bind(i,80784)),"humidifier-entity":()=>i.e(30440).then(i.bind(i,30440)),"input-datetime-entity":()=>Promise.all([i.e(94184),i.e(67320),i.e(58529),i.e(88552)]).then(i.bind(i,88552)),"input-number-entity":()=>Promise.all([i.e(94184),i.e(33608)]).then(i.bind(i,33608)),"input-select-entity":()=>Promise.all([i.e(67320),i.e(58529),i.e(10076)]).then(i.bind(i,10076)),"input-text-entity":()=>Promise.all([i.e(94184),i.e(7624)]).then(i.bind(i,7624)),"lock-entity":()=>i.e(87932).then(i.bind(i,87932)),"number-entity":()=>Promise.all([i.e(94184),i.e(62284)]).then(i.bind(i,62284)),"select-entity":()=>Promise.all([i.e(67320),i.e(58529),i.e(5368)]).then(i.bind(i,82988)),"text-entity":()=>Promise.all([i.e(94184),i.e(8628)]).then(i.bind(i,8628)),"time-entity":()=>Promise.all([i.e(94184),i.e(67320),i.e(58529),i.e(95944),i.e(46368)]).then(i.bind(i,53268)),"timer-entity":()=>i.e(1760).then(i.bind(i,1760)),"update-entity":()=>i.e(92596).then(i.bind(i,92596)),"valve-entity":()=>i.e(42116).then(i.bind(i,42116)),conditional:()=>i.e(58731).then(i.bind(i,58731)),"weather-entity":()=>Promise.all([i.e(84056),i.e(56180)]).then(i.bind(i,56180)),divider:()=>i.e(14268).then(i.bind(i,91887)),section:()=>i.e(19104).then(i.bind(i,19104)),weblink:()=>i.e(78396).then(i.bind(i,78396)),cast:()=>i.e(97660).then(i.bind(i,97660)),buttons:()=>Promise.all([i.e(10192),i.e(90220)]).then(i.bind(i,90220)),attribute:()=>Promise.resolve().then(i.bind(i,11432)),text:()=>i.e(14852).then(i.bind(i,14852))},g={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},f=e=>(0,u.im)("row",e,p,v,g,void 0),b=e=>(0,u.YP)(e,"row",p,v);a()}catch(e){a(e)}}))},65344:(e,t,i)=>{i.d(t,{G:()=>g});var a=i(5576),n=i(37668),o=i(54915),r=i(84244),s=i(55736),l=i(90360),d=i(73844),c=(i(57564),i(7860),i(45788));const h=(e,t)=>{let i=0;for(let t=0;t<e.length;t++){if(e[t]<5){i=t;break}e[t]<e[i]&&(i=t)}return e[i]+=t,i};let u=(0,a.c)(null,(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"isStrategy",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"cards",value:()=>[]},{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"badges",value:()=>[]},{kind:"field",decorators:[(0,s.K2)()],key:"_columns",value:void 0},{kind:"field",key:"_createColumnsIteration",value:()=>0},{kind:"field",key:"_mqls",value:void 0},{kind:"field",key:"_mqlListenerRef",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.c)((0,o.c)(a.prototype),"connectedCallback",this).call(this),this._initMqls()}},{kind:"method",key:"disconnectedCallback",value:function(){var e;(0,n.c)((0,o.c)(a.prototype),"disconnectedCallback",this).call(this),null===(e=this._mqls)||void 0===e||e.forEach((e=>{e.removeListener(this._mqlListenerRef)})),this._mqlListenerRef=void 0,this._mqls=void 0}},{kind:"method",key:"setConfig",value:function(e){}},{kind:"method",key:"render",value:function(){var e,t;return r.kP` ${this.badges.length>0?r.kP`<div class="badges">${this.badges}</div>`:""} <div id="columns" class="${null!==(e=this.lovelace)&&void 0!==e&&e.editMode?"edit-mode":""}"></div> ${null!==(t=this.lovelace)&&void 0!==t&&t.editMode?r.kP` <ha-fab .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.add")}" extended @click="${this._addCard}"> <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-fab> `:""} `}},{kind:"method",key:"_initMqls",value:function(){this._mqls=[300,600,900,1200].map((e=>{const t=window.matchMedia(`(min-width: ${e}px)`);return this._mqlListenerRef||(this._mqlListenerRef=this._updateColumns.bind(this)),t.addListener(this._mqlListenerRef),t}))}},{kind:"get",key:"mqls",value:function(){return this._mqls||this._initMqls(),this._mqls}},{kind:"method",key:"willUpdate",value:function(e){var t;if((0,n.c)((0,o.c)(a.prototype),"willUpdate",this).call(this,e),null!==(t=this.lovelace)&&void 0!==t&&t.editMode&&i.e(58604).then(i.bind(i,58604)),e.has("hass")){const t=e.get("hass");if(this.hass.dockedSidebar!==(null==t?void 0:t.dockedSidebar))return void this._updateColumns()}if(e.has("narrow"))return void this._updateColumns();const r=e.get("lovelace");(e.has("cards")||e.has("lovelace")&&r&&(r.config!==this.lovelace.config||r.editMode!==this.lovelace.editMode))&&this._createColumns()}},{kind:"method",key:"_addCard",value:function(){(0,l.O)(this,"ll-create-card")}},{kind:"method",key:"_createRootElement",value:function(e){const t=this.shadowRoot.getElementById("columns");for(;t.lastChild;)t.removeChild(t.lastChild);e.forEach((e=>t.appendChild(e)))}},{kind:"method",key:"_createColumns",value:async function(){if(!this._columns)return;this._createColumnsIteration++;const e=this._createColumnsIteration,t=[],i=[];for(let e=0;e<Math.min(this._columns,this.cards.length);e++){const e=document.createElement("div");e.classList.add("column"),t.push(0),i.push(e)}let a,n;this.hasUpdated?this._createRootElement(i):this.updateComplete.then((()=>{this._createRootElement(i)}));for(const[o,r]of this.cards.entries()){let s;void 0===a&&(a=(0,d.K)().then((()=>{a=void 0,n=void 0}))),void 0===n?n=new Date:(new Date).getTime()-n.getTime()>16&&(s=a);const l=(0,c.a)(r),[u]=await Promise.all([l,s]);if(e!==this._createColumnsIteration)return;this._addCardToColumn(i[h(t,u)],o,this.lovelace.editMode)}i.forEach((e=>{e.lastChild||e.parentElement.removeChild(e)}))}},{kind:"method",key:"_addCardToColumn",value:function(e,t,i){const a=this.cards[t];if(!i||this.isStrategy)a.editMode=!1,e.appendChild(a);else{const i=document.createElement("hui-card-options");i.hass=this.hass,i.lovelace=this.lovelace,i.path=[this.index,t],a.editMode=!0,i.appendChild(a),e.appendChild(i)}}},{kind:"method",key:"_updateColumns",value:function(){const e=this.mqls.reduce(((e,t)=>e+Number(t.matches)),0),t=Math.max(1,e-Number(!this.narrow&&"docked"===this.hass.dockedSidebar));t!==this._columns&&(this._columns=t,this._createColumns())}},{kind:"get",static:!0,key:"styles",value:function(){return r.gV`:host{display:block;padding-top:4px}.badges{margin:8px 16px;font-size:85%;text-align:center}#columns{display:flex;flex-direction:row;justify-content:center;margin-left:4px;margin-right:4px}#columns.edit-mode{margin-bottom:72px}.column{flex:1 0 0;max-width:500px;min-width:0}.column:has(> *){flex-grow:1}.column:not(:has(> :not([hidden]))){flex-grow:0}.column>:not([hidden]){display:block;margin:var(--masonry-view-card-margin,4px 4px 8px)}ha-fab{position:fixed;right:calc(16px + env(safe-area-inset-right));bottom:calc(16px + env(safe-area-inset-bottom));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;z-index:1}@media (max-width:500px){.column>*{margin-left:0;margin-right:0}}@media (max-width:599px){.column{max-width:600px}}`}}]}}),r.oH);customElements.define("hui-masonry-view",u);var m=i(1908);const p=new Set(["masonry"]),v={panel:()=>i.e(57340).then(i.bind(i,57340)),sidebar:()=>i.e(15744).then(i.bind(i,15744))},g=e=>(0,m.im)("view",e,p,v)},16668:(e,t,i)=>{i.d(t,{G:()=>o,c:()=>n});var a=i(90360);const n=()=>Promise.all([i.e(94184),i.e(62e3),i.e(4688),i.e(43844),i.e(7384),i.e(20424),i.e(72516),i.e(32716),i.e(78608)]).then(i.bind(i,26471)),o=(e,t)=>{(0,a.O)(e,"show-dialog",{dialogTag:"hui-dialog-create-card",dialogImport:n,dialogParams:t})}},86048:(e,t,i)=>{i.d(t,{A:()=>n,K:()=>o});var a=i(90360);const n=()=>i.e(64332).then(i.bind(i,64332)),o=(e,t)=>{(0,a.O)(e,"show-dialog",{dialogTag:"hui-dialog-delete-card",dialogImport:n,dialogParams:t})}},95496:(e,t,i)=>{i.d(t,{a:()=>o,d:()=>n});var a=i(90360);const n=()=>Promise.all([i.e(62e3),i.e(40772),i.e(97084),i.e(63064),i.e(93263)]).then(i.bind(i,93263)),o=(e,t)=>{(0,a.O)(e,"show-dialog",{dialogTag:"hui-dialog-edit-card",dialogImport:n,dialogParams:t})}},61680:(e,t,i)=>{i.d(t,{AR:()=>d,CW:()=>h,Ku:()=>u,QD:()=>n,Qp:()=>l,U$:()=>p,_O:()=>v,cL:()=>o,eS:()=>m,oz:()=>s,wd:()=>r,yT:()=>c});var a=i(60896);const n=(e,t,i)=>{const[n]=t,o=[];return e.views.forEach(((t,r)=>{if(r!==n)return void o.push(e.views[r]);if((0,a.k)(t))throw new Error("You cannot add a card in a strategy view.");const s=t.cards?[...t.cards,i]:[i];o.push({...t,cards:s})})),{...e,views:o}},o=(e,t,i)=>{const[n]=t,o=[];return e.views.forEach(((t,r)=>{if(r!==n)return void o.push(e.views[r]);if((0,a.k)(t))throw new Error("You cannot add cards in a strategy view.");const s=t.cards?[...t.cards,...i]:[...i];o.push({...t,cards:s})})),{...e,views:o}},r=(e,t,i)=>{const[n,o]=t,r=[];return e.views.forEach(((t,s)=>{if(s===n){if((0,a.k)(t))throw new Error("You cannot replace a card in a strategy view.");r.push({...t,cards:(t.cards||[]).map(((e,t)=>t===o?i:e))})}else r.push(e.views[s])})),{...e,views:r}},s=(e,t)=>{const[i,n]=t,o=[];return e.views.forEach(((t,r)=>{if(r===i){if((0,a.k)(t))throw new Error("You cannot delete a card in a strategy view.");o.push({...t,cards:(t.cards||[]).filter(((e,t)=>t!==n))})}else o.push(e.views[r])})),{...e,views:o}},l=(e,t,i)=>{const[n,o]=t,r=[];return e.views.forEach(((t,s)=>{if(s!==n)return void r.push(e.views[s]);if((0,a.k)(t))throw new Error("You cannot insert a card in a strategy view.");const l=t.cards?[...t.cards.slice(0,o),i,...t.cards.slice(o)]:[i];r.push({...t,cards:l})})),{...e,views:r}},d=(e,t,i)=>{const n=e.views[t[0]],o=e.views[i[0]];if((0,a.k)(n)||(0,a.k)(o))throw new Error("You cannot move swap cards in a strategy view.");const r=n.cards[t[1]],s=o.cards[i[1]],l={...n,cards:n.cards.map(((e,i)=>i===t[1]?s:e))},d=t[0]===i[0]?l:o,c={...d,cards:d.cards.map(((e,t)=>t===i[1]?r:e))};return{...e,views:e.views.map(((e,a)=>a===i[0]?c:a===t[0]?l:e))}},c=(e,t,i)=>{const n=e.views[t[0]];if((0,a.k)(n))throw new Error("You cannot move a card in a strategy view.");const o=t[1],r=Math.max(Math.min(i-1,n.cards.length-1),0),s=[...n.cards],l=s[o];s.splice(o,1),s.splice(r,0,l);const d={...n,cards:s};return{...e,views:e.views.map(((e,i)=>i===t[0]?d:e))}},h=(e,t,i)=>{if(t[0]===i[0])throw new Error("You cannot move a card to the view it is in.");const n=e.views[t[0]],o=e.views[i[0]];if((0,a.k)(n))throw new Error("You cannot move a card from a strategy view.");if((0,a.k)(o))throw new Error("You cannot move a card to a strategy view.");const r=n.cards[t[1]],s={...n,cards:(n.cards||[]).filter(((e,i)=>i!==t[1]))},l=o.cards?[...o.cards,r]:[r],d={...o,cards:l};return{...e,views:e.views.map(((e,a)=>a===i[0]?d:a===t[0]?s:e))}},u=(e,t,i)=>{if(i.path&&t.views.some((e=>e.path===i.path)))throw new Error(e.localize("ui.panel.lovelace.editor.edit_view.error_same_url"));return{...t,views:t.views.concat(i)}},m=(e,t,i,a)=>{if(a.path&&t.views.some(((e,t)=>e.path===a.path&&t!==i)))throw new Error(e.localize("ui.panel.lovelace.editor.edit_view.error_same_url"));return{...t,views:t.views.map(((e,t)=>t===i?a:e))}},p=(e,t,i)=>{const a=e.views[t],n=e.views[i];return{...e,views:e.views.map(((e,o)=>o===i?a:o===t?n:e))}},v=(e,t)=>({...e,views:e.views.filter(((e,i)=>i!==t))})},12496:(e,t,i)=>{i.d(t,{K:()=>d});var a=i(60896),n=i(47724),o=i(55476);const r=(e,t,i)=>{const a={message:t.localize("ui.common.successfully_deleted")};i&&(a.action={action:i,text:t.localize("ui.common.undo")}),(0,o.y)(e,a)};var s=i(86048),l=i(61680);async function d(e,t,i,o){const d=i.config.views[o[0]];if((0,a.k)(d))throw new Error("Deleting cards in a strategy view is not supported.");const c=d.cards[o[1]];(0,s.K)(e,{cardConfig:c,deleteCard:async()=>{try{const a=(0,l.oz)(i.config,o);await i.saveConfig(a);r(e,t,(async()=>{await i.saveConfig((0,l.Qp)(a,o,c))}))}catch(t){(0,n.showAlertDialog)(e,{text:`Deleting failed: ${t.message}`})}}})}},16088:(e,t,i)=>{i.d(t,{Oq:()=>h,W0:()=>l,Yz:()=>c,gj:()=>u});var a=i(16524),n=i(60896),o=i(20532);const r="custom:",s={dashboard:{"original-states":()=>i.e(80492).then(i.bind(i,80492))},view:{"original-states":()=>Promise.all([i.e(65800),i.e(80452)]).then(i.bind(i,80452)),energy:()=>Promise.all([i.e(65800),i.e(84488)]).then(i.bind(i,84488))}},l=async(e,t)=>{var i;if(t in s[e]){await s[e][t]();const i=`${t}-${e}-strategy`;return customElements.get(i)}if(!t.startsWith(r))throw new Error("Unknown strategy");const a=`ll-strategy-${t.slice(7)}`,n=`ll-strategy-${e}-${t.slice(7)}`;if(!0===await Promise.race([customElements.whenDefined(a),customElements.whenDefined(n),new Promise((e=>{setTimeout((()=>e(!0)),5e3)}))]))throw new Error(`Timeout waiting for strategy element ${n} to be registered`);return null!==(i=customElements.get(n))&&void 0!==i?i:customElements.get(a)},d=async(e,t,i,a)=>{const n=i.type;if(!n)return t("No strategy type found");try{const t=await l(e,n);if((0,o.Ok)(t)){if("dashboard"===e&&"generateDashboard"in t)return await t.generateDashboard({config:{strategy:i,views:[]},hass:a});if("view"===e&&"generateView"in t)return await t.generateView({config:{views:[]},view:{strategy:i},hass:a})}const r=(0,o.Og)(i);return await t.generate(r,a)}catch(e){return"timeout"!==e.message&&console.error(e),t(e)}},c=async(e,t)=>d("dashboard",(e=>({views:[{title:"Error",cards:[{type:"markdown",content:`Error loading the dashboard strategy:\n> ${e}`}]}]})),e,t),h=async(e,t)=>d("view",(e=>({cards:[{type:"markdown",content:`Error loading the view strategy:\n> ${e}`}]})),e,t),u=async(e,t)=>{const i=(0,a.gt)(e)?await c(e.strategy,t):{...e};return i.views=await Promise.all(i.views.map((e=>(0,n.k)(e)?h(e.strategy,t):e))),i}},20532:(e,t,i)=>{i.d(t,{Og:()=>o,Ok:()=>a,mK:()=>n});const a=e=>!("generate"in e),n=e=>2===Object.keys(e).length&&"options"in e&&"object"==typeof e.options,o=e=>{if(!n(e))return e;const t={...e,...e.options};return delete t.options,t}},82412:(e,t,i)=>{i.d(t,{CG:()=>a,CW:()=>r,M1:()=>n,Qz:()=>o});const a="masonry",n="panel",o="sidebar",r=[n,o]},14959:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(5576),n=i(37668),o=i(54915),r=i(84244),s=i(55736),l=i(84619),d=(i(57564),i(7860),i(68796)),c=i(25336),h=i(14056),u=i(61147),m=i(1908),p=i(65344),v=i(16668),g=i(95496),f=i(12496),b=i(61680),y=i(16088),_=i(82412),k=i(60896),w=e([u]);u=(w.then?(await w)():w)[0];(0,a.c)([(0,s.Kx)("hui-view")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.qq)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,s.qq)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.qq)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,s.K2)()],key:"_cards",value:()=>[]},{kind:"field",decorators:[(0,s.K2)()],key:"_badges",value:()=>[]},{kind:"field",key:"_layoutElementType",value:void 0},{kind:"field",key:"_layoutElement",value:void 0},{kind:"field",key:"_viewConfigTheme",value:void 0},{kind:"method",key:"createCardElement",value:function(e){const t=(0,u.oK)(e);try{t.hass=this.hass}catch(t){return(0,m.qk)((0,m.qO)(t.message,e))}return t.addEventListener("ll-rebuild",(i=>{this.lovelace.editMode||(i.stopPropagation(),this._rebuildCard(t,e))}),{once:!0}),t}},{kind:"method",key:"createBadgeElement",value:function(e){const t=(0,h.S)(e);try{t.hass=this.hass}catch(e){return(0,d.em)((0,d.Wi)(e.message))}return t.addEventListener("ll-badge-rebuild",(()=>{this._rebuildBadge(t,e)}),{once:!0}),t}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"willUpdate",value:function(e){(0,n.c)((0,o.c)(i.prototype),"willUpdate",this).call(this,e);const t=e.get("lovelace");(e.has("index")||e.has("lovelace")&&(!t||this.lovelace.config.views[this.index]!==t.config.views[this.index]))&&this._initializeConfig()}},{kind:"method",key:"update",value:function(e){if((0,n.c)((0,o.c)(i.prototype),"update",this).call(this,e),this._layoutElement){if(e.has("hass")){this._badges.forEach((e=>{try{e.hass=this.hass}catch(t){this._rebuildBadge(e,(0,d.Wi)(t.message))}})),this._cards.forEach((e=>{try{e.hass=this.hass}catch(t){this._rebuildCard(e,(0,m.qO)(t.message,null))}})),this._layoutElement.hass=this.hass;const t=e.get("hass");t&&this.hass.themes===t.themes&&this.hass.selectedTheme===t.selectedTheme||(0,l.q)(this,this.hass.themes,this._viewConfigTheme)}e.has("narrow")&&(this._layoutElement.narrow=this.narrow),e.has("lovelace")&&(this._layoutElement.lovelace=this.lovelace),e.has("_cards")&&(this._layoutElement.cards=this._cards),e.has("_badges")&&(this._layoutElement.badges=this._badges)}}},{kind:"method",key:"_initializeConfig",value:async function(){let e=this.lovelace.config.views[this.index],t=!1;(0,k.k)(e)&&(t=!0,e=await(0,y.Oq)(e.strategy,this.hass)),e={...e,type:e.panel?_.M1:e.type||_.CG};let i=!1;if(this._layoutElement&&this._layoutElementType===e.type||(i=!0,this._createLayoutElement(e)),this._createBadges(e),this._createCards(e),this._layoutElement.isStrategy=t,this._layoutElement.hass=this.hass,this._layoutElement.narrow=this.narrow,this._layoutElement.lovelace=this.lovelace,this._layoutElement.index=this.index,this._layoutElement.cards=this._cards,this._layoutElement.badges=this._badges,(0,l.q)(this,this.hass.themes,e.theme),this._viewConfigTheme=e.theme,i){for(;this.lastChild;)this.removeChild(this.lastChild);this.appendChild(this._layoutElement)}}},{kind:"method",key:"_createLayoutElement",value:function(e){this._layoutElement=(0,p.G)(e),this._layoutElementType=e.type,this._layoutElement.addEventListener("ll-create-card",(()=>{(0,v.G)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[this.index]})})),this._layoutElement.addEventListener("ll-edit-card",(e=>{(0,g.a)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:e.detail.path})})),this._layoutElement.addEventListener("ll-delete-card",(e=>{if(e.detail.confirm)(0,f.K)(this,this.hass,this.lovelace,e.detail.path);else{const t=(0,b.oz)(this.lovelace.config,e.detail.path);this.lovelace.saveConfig(t)}}))}},{kind:"method",key:"_createBadges",value:function(e){if(!e||!e.badges||!Array.isArray(e.badges))return void(this._badges=[]);const t=(0,c.u)(e.badges);this._badges=t.map((e=>{const t=(0,h.S)(e);try{t.hass=this.hass}catch(e){return(0,d.em)((0,d.Wi)(e.message))}return t}))}},{kind:"method",key:"_createCards",value:function(e){e&&e.cards&&Array.isArray(e.cards)?this._cards=e.cards.map((e=>{const t=this.createCardElement(e);try{t.hass=this.hass}catch(t){return(0,m.qk)((0,m.qO)(t.message,e))}return t})):this._cards=[]}},{kind:"method",key:"_rebuildCard",value:function(e,t){let i=this.createCardElement(t);try{i.hass=this.hass}catch(e){i=(0,m.qk)((0,m.qO)(e.message,t))}e.parentElement&&e.parentElement.replaceChild(i,e),this._cards=this._cards.map((t=>t===e?i:t))}},{kind:"method",key:"_rebuildBadge",value:function(e,t){let i=this.createBadgeElement(t);try{i.hass=this.hass}catch(e){i=(0,d.em)((0,d.Wi)(e.message))}e.parentElement&&e.parentElement.replaceChild(i,e),this._badges=this._badges.map((t=>t===e?i:t))}}]}}),r.i6);t()}catch(e){t(e)}}))},32768:(e,t,i)=>{i.d(t,{E7:()=>s,ao:()=>o,s2:()=>r,w1:()=>n});var a=i(84244);const n=a.gV`button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}`,o=a.gV`:host{font-family:var(--paper-font-body1_-_font-family);-webkit-font-smoothing:var(--paper-font-body1_-_-webkit-font-smoothing);font-size:var(--paper-font-body1_-_font-size);font-weight:var(--paper-font-body1_-_font-weight);line-height:var(--paper-font-body1_-_line-height)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px;margin-inline-start:20px;margin-inline-end:initial}h1{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);white-space:var(--paper-font-headline_-_white-space);overflow:var(--paper-font-headline_-_overflow);text-overflow:var(--paper-font-headline_-_text-overflow);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);line-height:var(--paper-font-headline_-_line-height)}h2{font-family:var(--paper-font-title_-_font-family);-webkit-font-smoothing:var(--paper-font-title_-_-webkit-font-smoothing);white-space:var(--paper-font-title_-_white-space);overflow:var(--paper-font-title_-_overflow);text-overflow:var(--paper-font-title_-_text-overflow);font-size:var(--paper-font-title_-_font-size);font-weight:var(--paper-font-title_-_font-weight);line-height:var(--paper-font-title_-_line-height)}h3{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);white-space:var(--paper-font-subhead_-_white-space);overflow:var(--paper-font-subhead_-_overflow);text-overflow:var(--paper-font-subhead_-_text-overflow);font-size:var(--paper-font-subhead_-_font-size);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}mwc-button.warning{--mdc-theme-primary:var(--error-color)}${n} .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:0.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}`,r=a.gV`ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-max-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0}}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}.error{color:var(--error-color)}`,s=a.gV`.ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}`;a.gV`body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}`}};
//# sourceMappingURL=27656.i35d7gCXYZ8.js.map